function v(p,o){const n=document.getElementById("defesasMensaisChart");if(!n){console.warn("Elemento 'defesasMensaisChart' não encontrado.");return}const e=n.getContext("2d"),E="#C0A040",s="#333",x="#AAAAAA",h="Poppins",d=()=>{if(!n.parentElement)return;n.width=n.parentElement.clientWidth,n.height=n.parentElement.clientHeight;const i=n.width,r=n.height,t=50,u=i-t*2,l=r-t*2,A=u/(o.length*2),m=Math.max(...o);e.clearRect(0,0,i,r),e.strokeStyle=s,e.fillStyle=x,e.font=`12px ${h}`;const f=5;for(let a=0;a<=f;a++){const c=Math.round(m/f*a),g=l-c/m*l+t;e.beginPath(),e.moveTo(t,g),e.lineTo(i-t,g),e.stroke(),e.fillText(c,t-30,g+4)}e.textAlign="center",p.forEach((a,c)=>{const g=t+c*(u/o.length)+u/o.length/2;e.fillText(a,g,r-t+20)}),e.fillStyle=E,o.forEach((a,c)=>{const g=a/m*l,y=t+c*(u/o.length)+(u/o.length-A)/2,M=l-g+t;e.fillRect(y,M,A,g)})};d(),window.addEventListener("resize",d)}function B(p,o,n){const e=document.getElementById("statusAlunosChart"),E=document.getElementById("statusAlunosLegend");if(!e||!E){console.warn("Elementos 'statusAlunosChart' ou 'statusAlunosLegend' não encontrados.");return}const s=e.getContext("2d"),x=()=>{if(!e.parentElement)return;e.width=e.parentElement.clientWidth,e.height=e.parentElement.clientHeight;const h=e.width,d=e.height,i=h/2,r=d/2,t=Math.min(h,d)/2-10,u=t*.7;let l=-.5*Math.PI;const A=o.reduce((m,f)=>m+f,0);o.forEach((m,f)=>{const a=m/A*2*Math.PI,c=l+a;s.beginPath(),s.moveTo(i,r),s.arc(i,r,t,l,c),s.closePath(),s.fillStyle=n[f],s.fill(),l=c}),s.beginPath(),s.arc(i,r,u,0,2*Math.PI),s.fillStyle="#1F1F1F",s.fill()};x(),window.addEventListener("resize",x),E.innerHTML="",p.forEach((h,d)=>{const i=o[d],t=`
            <p class="flex items-center">
                <span class="w-3 h-3 rounded-full mr-2" style="background-color: ${n[d]};"></span>
                ${h} (${i}%)
            </p>
        `;E.innerHTML+=t})}function I(p){const o=document.getElementById("listaSolicitacoes");o&&(o.innerHTML="",p.forEach(n=>{const e=`
            <div class="flex items-center justify-between p-3 bg-[#121212] rounded-lg border border-[#333] hover:border-[#C0A040] transition-colors">
                <div>
                    <p class="text-sm font-medium text-[#E0E0E0]">${n.nome}</p>
                    <p class="text-xs text-[#AAAAAA]">${n.curso}</p>
                </div>
                <span class="text-xs text-[#AAAAAA]">${n.dias}d atrás</span>
            </div>
        `;o.innerHTML+=e}))}function S(){!document.getElementById("pending-requests")||!document.getElementById("defesasMensaisChart")?(console.warn("Elementos do Dashboard não encontrados. Aguardando DOMContentLoaded."),document.addEventListener("DOMContentLoaded",C)):C()}function C(){const E=[2,3,5,4,7,8,5,6,9,10,4,0],s=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],x=[15,60,10,15],h=["Aguardando Orientação","Em Orientação","Agendamento Pendente","Defendido / Concluído"],d=["#EF4444","#3B82F6","#E6C850","#22C55E"],i=[{nome:"Ana Clara Silva",curso:"Eng. de Software",dias:1},{nome:"Bruno Costa",curso:"Ciência da Computação",dias:1},{nome:"Carla Mendes",curso:"Sistemas de Informação",dias:2},{nome:"Daniel Oliveira",curso:"Eng. de Software",dias:3},{nome:"Elisa Fernandes",curso:"Ciência da Computação",dias:3}],r=document.getElementById("pending-requests"),t=document.getElementById("scheduled-defenses"),u=document.getElementById("generated-docs"),l=document.getElementById("professor-count");r&&(r.textContent=5),t&&(t.textContent=2),u&&(u.textContent=42),l&&(l.textContent=12),v(s,E),B(h,x,d),I(i);const A=document.getElementById("link-solicitacoes"),m=document.getElementById("link-agenda"),f=document.getElementById("link-documentos"),a=document.getElementById("link-professores"),c=document.getElementById("link-ver-solicitacoes");A&&(A.href="solicitacao.html"),m&&(m.href="agenda.html"),f&&(f.href="documentos.html"),a&&(a.href="professores.html"),c&&(c.href="solicitacao.html")}S();
