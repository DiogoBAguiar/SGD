import{configurarListenersModal as r,fecharModal as g}from"./funcoesGerais-DYcR_P5N.js";function c(){const e={email:document.getElementById("emailNotifications").checked,system:document.getElementById("systemNotifications").checked,deadlineReminder:document.getElementById("deadlineReminder").value};localStorage.setItem("sgd_settings",JSON.stringify(e)),console.info("Configurações salvas com sucesso!"),g("prazoModal")}function l(){localStorage.removeItem("sgd_settings"),console.info("Configurações restauradas ao padrão."),location.reload()}function m(){const e=JSON.parse(localStorage.getItem("sgd_settings"));if(e){const t=document.getElementById("emailNotifications"),o=document.getElementById("systemNotifications"),n=document.getElementById("deadlineReminder");t&&(t.checked=e.email),o&&(o.checked=e.system),n&&(n.value=e.deadlineReminder)}}function u(){const e=document.getElementById("homeBtn"),t=document.getElementById("saveBtn"),o=document.getElementById("resetBtn"),n=document.getElementById("openPrazoModal");e&&t&&o&&n?(e.addEventListener("click",()=>{window.location.href="./index.html"}),r({idModal:"prazoModal",idBotaoAbrir:"openPrazoModal",idsBotoesFechar:["closePrazoModal"],fecharAoClicarFora:!0}),t.addEventListener("click",c),o.addEventListener("click",l),m()):(console.warn("Elementos de 'configuracoes.js' não encontrados. Aguardando DOMContentLoaded."),document.addEventListener("DOMContentLoaded",()=>{const d=document.getElementById("homeBtn"),s=document.getElementById("saveBtn"),i=document.getElementById("resetBtn");d&&d.addEventListener("click",()=>{window.location.href="./index.html"}),r({idModal:"prazoModal",idBotaoAbrir:"openPrazoModal",idsBotoesFechar:["closePrazoModal"],fecharAoClicarFora:!0}),s&&s.addEventListener("click",c),i&&i.addEventListener("click",l),m()}))}const B=document.getElementById("openPermissionsModal"),a=document.getElementById("permissionsModal"),E=document.getElementById("closePermissionsModal"),f=document.getElementById("cancelPermissions"),y=document.getElementById("permissionsForm");B.addEventListener("click",()=>{a.classList.remove("hidden")});E.addEventListener("click",()=>{a.classList.add("hidden")});f.addEventListener("click",()=>{a.classList.add("hidden")});y.addEventListener("submit",e=>{e.preventDefault();const t={alunoEnviarProrrogacao:document.getElementById("alunoEnviarProrrogacao").checked,alunoAgendarDefesa:document.getElementById("alunoAgendarDefesa").checked,orientadorCriarBanca:document.getElementById("orientadorCriarBanca").checked,orientadorEditarNotas:document.getElementById("orientadorEditarNotas").checked};localStorage.setItem("sgd_permissions",JSON.stringify(t)),alert("Permissões salvas com sucesso!"),a.classList.add("hidden")});window.addEventListener("DOMContentLoaded",()=>{const e=JSON.parse(localStorage.getItem("sgd_permissions"));e&&(document.getElementById("alunoEnviarProrrogacao").checked=e.alunoEnviarProrrogacao,document.getElementById("alunoAgendarDefesa").checked=e.alunoAgendarDefesa,document.getElementById("orientadorCriarBanca").checked=e.orientadorCriarBanca,document.getElementById("orientadorEditarNotas").checked=e.orientadorEditarNotas)});u();
